{% include 'sidebar.html' %}

<h2>Welcome to Your Dashboard!</h2>
<p>You are logged in as {{ user.username }}</p>

<a href="{% url 'logout' %}">Logout</a>

<h2>Cumulative Stats</h2>
{% if user_stats and user_stats.cumulative_stats %}
    <p>Total Problems Solved: {{ user_stats.cumulative_stats.Total }}</p>
    <p>Easy: {{ user_stats.cumulative_stats.Easy }}</p>
    <p>Medium: {{ user_stats.cumulative_stats.Medium }}</p>
    <p>Hard: {{ user_stats.cumulative_stats.Hard }}</p>
    
    {% if user_stats.cumulative_stats.Topics %}
        <p>Topic-wise:</p>
        <ul>
            {% for topic, count in user_stats.cumulative_stats.Topics.items %}
                <li>{{ topic }}: {{ count }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No topic-wise data available.</p>
    {% endif %}
{% else %}
    <p>No data found.</p>
{% endif %}

<h2>Activity Heatmap</h2>
{% if user_stats and user_stats.heatmap_data %}
    <ul>
        {% for date, solved in user_stats.heatmap_data.items %}
            <li>{{ date }}: {{ solved }} problems</li>
        {% endfor %}
    </ul>
{% else %}
    <p>No data found.</p>
{% endif %}

<h2>Streaks</h2>
{% if user_stats and user_stats.current_streak is not None %}
    <p>Current Streak: {{ user_stats.current_streak }} days</p>
    <p>Max Streak: {{ user_stats.max_streak }} days</p>
{% else %}
    <p>No data found.</p>
{% endif %}
